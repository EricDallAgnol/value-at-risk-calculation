(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7405:function(e,t,n){Promise.resolve().then(n.bind(n,25649))},25649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var i=n(57437),s=n(10732),l=n(2265);let transition=()=>({duration:.75,delay:.2,ease:"easeIn"}),fadeIn=e=>({hidden:{opacity:0,y:"down"===e?-85:85},visible:{opacity:1,y:0}}),o={padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",sectionHeadText:"text-white mb-5 font-black md:text-[40px] sm:text-[30px] xs:text-[20px] text-[14px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},a={aboutTool:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"This online tool aims to compute the Value-At-Risk according to the Historical approach."}),(0,i.jsx)("p",{children:"It needs as input a CSV file containing the following information : Date, TradeID, P&L Vector."}),(0,i.jsx)("br",{}),(0,i.jsx)("h1",{style:{fontSize:24},children:"How to compute your VaR ?"}),(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:"Upload your PnL Trades CSV file."}),(0,i.jsx)("li",{children:"Select the trades for which you want to compute the VaR."}),(0,i.jsx)("li",{children:"Provide the quantile value."}),(0,i.jsx)("li",{children:"Provide the mode."}),(0,i.jsx)("li",{children:"Provide the interpolation."}),(0,i.jsx)("li",{children:"Click on the button Compute my VaR."}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:"For further details about the measure computation or the configuration - please see the related section below."})]}),aboutVaR:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:o.sectionHeadText,children:"Value-At-Risk"}),(0,i.jsx)("p",{children:"Value-At-Risk represents an investor's maximum potential loss on the value of a financial asset or portfolio of assets, which is expected to be achieved only with a given probability over a given time horizon."}),(0,i.jsx)("p",{children:"It is, in other words, the worst expected loss over a given time horizon for a given level of confidence."}),(0,i.jsx)("p",{children:"VaR can be seen as a quantile of the profit-and-loss distribution associated with holding an asset or a portfolio of assets over a given period."}),(0,i.jsx)("p",{children:"This tool is computing the VaR, according to the Historical approach."}),(0,i.jsx)("br",{}),(0,i.jsx)("h1",{className:o.sectionHeadText,children:"Parameters"}),(0,i.jsx)("h2",{className:o.sectionSubText,children:"Mode"}),(0,i.jsx)("p",{children:"The method used to compute the index of the quantile."}),(0,i.jsx)("p",{children:"Knowing q the quantile of a vector V, available options are :"}),(0,i.jsxs)("p",{className:"my-4",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"simple :"})," V.length * q"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"centered :"})," V.length * q + 0.5"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"exc :"})," (V.length + 1) * q"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"inc :"})," (V.length - 1) * q"]})]}),(0,i.jsx)("h2",{className:o.sectionSubText,children:"Interpolation"}),(0,i.jsx)("p",{children:"If the quantile index is not an integer, the interpolation decides what value is returned."}),(0,i.jsx)("p",{children:"Knowing a quantile index k with i<k<j for the sorted vector V."}),(0,i.jsxs)("p",{className:"my-4",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"linear :"})," value = V[ i ] + (V[ j ] - V[ i ]) * (k - i)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"lower :"})," value = V[ i ]"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"higher :"})," value = V[ j ]"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"nearest :"})," value = V[ i ] or value = V[ j ] depending on which is closest to k"]})]})]})};var components_AboutToolCard=()=>(0,i.jsx)("div",{className:"w-full mt-5",children:(0,i.jsx)(s.E.div,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"green-pink-gradient p-[1px] rounded-[20px]",children:(0,i.jsxs)("div",{className:"bg-tertiary rounded-[20px] px-12 min-h-[180px] h-fit flex flex-col pb-8",children:[(0,i.jsx)("h1",{className:o.sectionHeadText,children:"About this tool"}),a.aboutTool]})})}),r=n(7381),components_CustomButton=e=>{let{children:t,icon:n,onClick:s}=e;return(0,i.jsx)("button",{onClick:s,className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary hover:text-[#6e4cb8] hover:scale-110",children:n?(0,i.jsxs)("div",{className:"flex items-center gap-2.5 justify-center",children:[(0,i.jsx)("p",{className:"[text-shadow:_0_4px_4px_rgb(0_0_0_/_50%)]",children:t}),(0,i.jsx)("img",{width:25,height:25,src:n,alt:""})]}):(0,i.jsx)("p",{className:"[text-shadow:_0_4px_4px_rgb(0_0_0_/_50%)]",children:t})})},SectionWrapper=(e,t)=>function(){return(0,i.jsxs)(s.E.section,{initial:"hidden",whileInView:"show",viewport:{once:!1},className:"".concat(o.padding," max-w-7xl mx-auto relative z-0"),children:[(0,i.jsx)("span",{className:"hash-span",id:t,children:"\xa0"}),(0,i.jsx)(e,{})]})},c=SectionWrapper(()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-full xl:w-fit",children:(0,i.jsx)(s.E.h1,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"".concat(o.heroHeadText," text-white-100"),children:"Online Value-At-Risk Computation"})}),(0,i.jsx)(components_AboutToolCard,{}),(0,i.jsxs)(s.E.div,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"my-12 flex flex-col items-center sm:flex-row justify-center w-full gap-6",children:[(0,i.jsx)(r.rU,{to:"var",smooth:!0,children:(0,i.jsx)(components_CustomButton,{icon:"/icons/arrow.png",children:"Compute my VaR"})}),(0,i.jsx)(r.rU,{to:"info",smooth:!0,children:(0,i.jsx)(components_CustomButton,{icon:"/icons/arrow.png",children:"More Information"})})]})]}),"hero"),components_AboutVaRCard=()=>(0,i.jsx)("div",{className:"w-full h-full mt-5",children:(0,i.jsx)(s.E.div,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"green-pink-gradient p-[1px] rounded-[20px]",children:(0,i.jsx)("div",{className:"bg-tertiary rounded-[20px] px-12 flex flex-col pb-3",children:a.aboutVaR})})}),d=SectionWrapper(()=>(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"w-full xl:w-fit",children:[(0,i.jsx)(s.E.h1,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"".concat(o.heroHeadText," text-white-100"),children:"More Information"}),(0,i.jsx)(components_AboutVaRCard,{}),(0,i.jsx)("div",{className:"flex flex-col items-center justify-center w-full mt-5 pb-5",children:(0,i.jsx)(r.rU,{to:"var",smooth:!0,children:(0,i.jsx)(components_CustomButton,{icon:"/icons/arrow.png",children:"Compute my VaR"})})})]})}),"info"),h=n(88110),x=n.n(h),p=n(80338),m=n(68939),u=n(33116);let uid=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),f=[{title:"AsOfDate",dataIndex:"asOfDate",key:"asOfDate",ellipsis:!0},{title:"TradeID",dataIndex:"tradeID",key:"tradeID",ellipsis:!0},{title:"PnL Vector",dataIndex:"pnLVector",key:"pnLVector",ellipsis:!0,render:e=>(null==e?void 0:e.pnLVector)===null?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("span",{children:null==e?void 0:e.pnLVector.map(e=>(0,i.jsxs)("span",{children:[e," "]},uid()))})}],refreshDataFrom=async(e,t)=>{e(!0),fetch("/data/all-trades",{method:"GET",redirect:"follow"}).then(e=>e.json()).then(e=>{let n=e.map(e=>({...e,key:e.tradeID}));t(n)}).catch(e=>console.log("Error: ".concat(JSON.stringify(e)))).finally(()=>e(!1))},dropPnL=async()=>{fetch("/data/drop-pnl",{method:"DELETE",redirect:"follow"}).then(e=>e.text()).then(e=>console.log(e)).catch(e=>u.ZP.error(e))};var components_TableComponent=e=>{let{setSelectedTrades:t,setRefresh:n,refresh:s}=e,[o,a]=(0,l.useState)(!1),[r,c]=(0,l.useState)([]);return(0,l.useEffect)(()=>{s&&refreshDataFrom(a,c).then().finally(()=>n(!1))},[s,n]),(0,i.jsx)("div",{className:"w-fit",children:(0,i.jsx)(m.Z,{rowSelection:{type:"checkbox",onChange:(e,n)=>{t(n.map(e=>({asOfDate:e.asOfDate,tradeID:e.tradeID,pnLVector:e.pnLVector})))}},columns:f,dataSource:r,loading:o,pagination:{pageSize:10},scroll:{y:240},bordered:!0,title:()=>(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"Trade Positions with PnL Vector"}),footer:()=>(0,i.jsxs)(p.default,{children:[(0,i.jsx)(x(),{type:"primary",onClick:()=>n(!0),children:"Refresh"}),(0,i.jsx)(x(),{type:"default",onClick:()=>{dropPnL(),n(!0)},children:"Delete All"})]})})})},j=n(65137);n(92489);var components_UploadComponent=e=>{let{setRefresh:t}=e,[n,s]=(0,l.useState)([]),[o,a]=(0,l.useState)(!1);return(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center w-full",children:[(0,i.jsx)("div",{className:"green-pink-gradient p-[1px] rounded-[20px] w-max",children:(0,i.jsxs)("div",{className:"bg-tertiary rounded-[20px] px-12 py-5 flex flex-col my-7",children:[(0,i.jsx)(j.Z,{className:"text-white",onRemove:e=>{let t=n.indexOf(e),i=n.slice();i.splice(t,1),s(i)},beforeUpload:e=>{let t="text/csv"===e.type;return t?s([...n,e]):u.ZP.error("".concat(e.name," is not a CSV file !"),3),!1},fileList:n,children:(0,i.jsx)(components_CustomButton,{icon:"/icons/arrow.png",children:"Click to upload"})}),(0,i.jsx)(x(),{onClick:()=>{let e=new FormData,i=new Headers;a(!0),e.append("file",n[0]),fetch("/data/upload-pnl",{method:"POST",body:e,headers:i}).then(e=>{if(200!==e.status)throw Error(e.statusText)}).then(e=>console.log(e)).catch(e=>u.ZP.error("Error : ".concat(e),3)).finally(()=>{t(!0),s([]),a(!1)})},type:"primary",loading:o,disabled:0===n.length,style:{marginTop:8,color:"white"},children:o?"Uploading":"Start Upload"})]})}),(0,i.jsx)("p",{style:{fontStyle:"italic",marginBottom:2},children:"The application is expecting a csv file with the following header fields : AsOfDate | TradeID | PnL"})]})},w=n(79404),v=n(54760),b=n(33071),g=n(45623),N=n(48749);let{Option:y}=g.default;var components_VaRForm=e=>{let{selectedTrades:t}=e,[n]=w.Z.useForm(),[s,o]=N.ZP.useNotification(),[a,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(),h=(0,l.useMemo)(()=>t,[t]),openErrorNotification=e=>{s.error({message:"",description:"".concat(e)})},showModal=(e,t)=>{d({result:e,quantile:t.quantile,mode:t.mode,interpolation:t.interpolation}),r(!0)};return(0,i.jsxs)(i.Fragment,{children:[o,(0,i.jsxs)(b.Z,{title:"Value-At-Risk",open:a,onOk:()=>{r(!1)},onCancel:()=>{r(!1)},children:[(0,i.jsxs)("p",{children:["Quantile : ",null==c?void 0:c.quantile]}),(0,i.jsxs)("p",{children:["Mode : ",null==c?void 0:c.mode]}),(0,i.jsxs)("p",{children:["Interpolation : ",null==c?void 0:c.interpolation]}),(0,i.jsxs)("p",{children:["Value-At-Risk : ",null==c?void 0:c.result]})]}),(0,i.jsx)("div",{className:"flex flex-col justify-center items-center w-full",children:(0,i.jsx)("div",{className:"green-pink-gradient p-[1px] rounded-[20px]",children:(0,i.jsx)("div",{className:"bg-tertiary rounded-[20px] px-12 pt-5 flex flex-col mt-7",children:(0,i.jsxs)(w.Z,{labelAlign:"left",layout:"vertical",form:n,name:"control-hooks",onFinish:e=>{let t=new Headers;t.append("Content-Type","application/json"),fetch("calculation/var",{method:"POST",headers:t,redirect:"follow",body:JSON.stringify({quantile:e.quantile,mode:e.mode,interpolation:e.interpolation,tradePositionWithPnL:h})}).then(e=>e.text()).then(t=>{if(isNaN(parseFloat(t)))throw Error(t);showModal(t,e)}).catch(e=>{openErrorNotification(e)})},style:{maxWidth:"100%"},children:[(0,i.jsx)(w.Z.Item,{name:"quantile",label:(0,i.jsx)("label",{className:"text-white font-bold",children:"Quantile"}),rules:[{required:!0}],children:(0,i.jsx)(v.Z,{min:.001,max:.999,step:.001})}),(0,i.jsx)(w.Z.Item,{name:"mode",label:(0,i.jsx)("label",{className:"text-white font-bold",children:"Mode"}),rules:[{required:!0}],children:(0,i.jsxs)(g.default,{placeholder:"Select a mode...",onChange:e=>{n.setFieldsValue({mode:e})},allowClear:!0,children:[(0,i.jsx)(y,{value:"SIMPLE",children:"SIMPLE"}),(0,i.jsx)(y,{value:"CENTERED",children:"CENTERED"}),(0,i.jsx)(y,{value:"INC",children:"INC"}),(0,i.jsx)(y,{value:"EXC",children:"EXC"})]})}),(0,i.jsx)(w.Z.Item,{name:"interpolation",label:(0,i.jsx)("label",{className:"text-white font-bold",children:"Interpolation"}),rules:[{required:!0}],children:(0,i.jsxs)(g.default,{placeholder:"Select an interpolation...",onChange:e=>{n.setFieldsValue({interpolation:e})},allowClear:!0,children:[(0,i.jsx)(y,{value:"HIGHER",children:"HIGHER"}),(0,i.jsx)(y,{value:"LOWER",children:"LOWER"}),(0,i.jsx)(y,{value:"NEAREST",children:"NEAREST"}),(0,i.jsx)(y,{value:"LINEAR",children:"LINEAR"})]})}),(0,i.jsx)(w.Z.Item,{children:(0,i.jsxs)("div",{className:"items-center justify-center flex w-full",children:[(0,i.jsx)(x(),{type:"primary",htmlType:"submit",style:{marginRight:5},children:"Compute VaR"}),(0,i.jsx)(x(),{htmlType:"button",onClick:()=>{n.resetFields()},children:"Reset"})]})})]})})})})]})},V=SectionWrapper(()=>{let[e,t]=(0,l.useState)(),[n,a]=(0,l.useState)(!0);return(0,i.jsxs)("div",{className:"w-full xl:w-fit",children:[(0,i.jsx)(s.E.h1,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"".concat(o.heroHeadText," text-white-100 mb-5"),children:"VaR Computation"}),(0,i.jsxs)("div",{className:"items-center justify-center w-full xl:w-fit",children:[(0,i.jsx)("div",{className:"upload",children:(0,i.jsx)(components_UploadComponent,{setRefresh:a})}),(0,i.jsx)("div",{className:"table",children:(0,i.jsx)(components_TableComponent,{setSelectedTrades:t,setRefresh:a,refresh:n})}),(0,i.jsx)("div",{className:"form",children:(0,i.jsx)(components_VaRForm,{selectedTrades:e})}),(0,i.jsx)(s.E.div,{variants:fadeIn("down"),transition:transition(),initial:"hidden",whileInView:"visible",viewport:{once:!1},className:"flex flex-col items-center justify-center w-full mt-5 gap-5",children:(0,i.jsx)(r.rU,{to:"info",smooth:!0,children:(0,i.jsx)(components_CustomButton,{icon:"/icons/arrow.png",children:"More Information"})})})]})]})},"var");function Home(){return(0,i.jsxs)("div",{className:"relative z-0 bg-gradient-to-r from-slate-900 min-h-screen min-w-[430px]",children:[(0,i.jsx)(c,{}),(0,i.jsx)(V,{}),(0,i.jsx)(d,{})]})}},92489:function(){}},function(e){e.O(0,[415,971,472,744],function(){return e(e.s=7405)}),_N_E=e.O()}]);